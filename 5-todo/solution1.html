<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Todo - Solution 1</title>
  </head>
  <body>
    <p><em>A simple solution for a todo list app</em></p>
    <h1>// TODO</h1>
    <ul id="list"></ul>
    <input type="text" id="new-item" placeholder="Do a thing"/>
    <button type="button" id="insert-item">Insert</button>
    <script>
    // References to DOM elements
    var list = document.getElementById('list');
    var newItem = document.getElementById('new-item');
    var insertButton = document.getElementById('insert-item');

    // Initial list of todo items
    var todos = [
      'Learn JavaScript',
      'Make a todo list app',
      '???',
      'Profit!'
    ];

    // Create a todo item and add it to the list
    function makeTodo(value) {
      // Create the list item
      var item = document.createElement('li');
      item.appendChild(document.createTextNode(value + ' '));
      // Create the delete button
      var deleteButton = document.createElement('button');
      deleteButton.appendChild(document.createTextNode('X'));
      // Add an event handler to the remove button
      deleteButton.addEventListener('click', function() {
        list.removeChild(item);
      });
      // Add the delete button to the list item
      item.appendChild(deleteButton);
      // Add the item to the list
      list.appendChild(item);
    }

    // Add an event handler to the insert button
    insertButton.addEventListener('click', function() {
      makeTodo(newItem.value);
      newItem.value = '';
    });

    // Add the initial todos to the DOM
    for (var i = 0; i < todos.length; i++) {
      makeTodo(todos[i]);
    }
    </script>
  </body>
</html>
